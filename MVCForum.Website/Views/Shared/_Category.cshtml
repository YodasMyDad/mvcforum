@model MVCForum.Website.ViewModels.CategoryRowViewModel

@if (!Model.Permissions[AppConstants.PermissionDenyAccess].IsTicked)
{
    <div class="categoryrow">
        <h2 style="border-color: @(Model.Category.Colour)"><a href="@Model.Category.NiceUrl">@Html.Raw(Model.Category.Name)</a></h2>
        <p>@Html.Raw(AppHelpers.ConvertPostContent(Model.Category.Description))</p>
        <div class="row categoryrowfooter">
            <div class="col-md-1 catrss">
                @if (Html.Settings().EnableRSSFeeds)
                {
                    <a title="@Html.LanguageString("Home.Rss")" href="@Url.Action("CategoryRss", "Category", new { slug = Model.Category.Slug })" class="rsssubscribe">
                        <i class="fa fa-rss"></i>
                    </a>
                }
            </div>
            <div class="col-md-2 catdiscussions">
                @string.Format(Html.LanguageString("Rss.Category.Title"), Model.TopicCount)
            </div>
            <div class="col-md-2 catcomments">
                @Model.PostCount @Html.LanguageString("Topic.CommentsDetails")
            </div>
            <div class="col-md-7 catmostrecent">
                @if (Model.LatestTopic != null)
                {
                    <text>
                        @Html.LanguageString("Category.MostRecent") <a href="@Model.LatestTopic.NiceUrl">@Html.Raw(Model.LatestTopic.Name)</a>
                        @Html.Raw(string.Format(Html.LanguageString("Topic.StartedBy"),
                                DatesUI.GetPrettyDate(Model.LatestTopic.CreateDate.ToString()),
                                string.Format("<a href='{0}'>{1}</a>", Model.LatestTopic.User.NiceUrl, Model.LatestTopic.User.UserName)))
                    </text>
                }
            </div>
        </div>
    </div>
}